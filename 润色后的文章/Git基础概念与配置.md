# Git基础概念与配置

Git是一个分布式版本控制系统，它能够跟踪和管理项目的历史变更。理解Git的基础概念和正确配置是高效使用Git的第一步。

## Git仓库初始化

### 创建Git仓库

Git仓库的初始化非常简单。当你在一个现有目录中执行以下命令时，Git会在该目录下创建一个隐藏的`.git`文件夹：

```bash
git init
```

这个`.git`目录是Git用来跟踪和管理项目版本控制信息的核心存储区。它包含了项目的所有Git仓库信息，包括提交历史、分支、标签等重要数据。一旦执行了这个命令，该目录就变成了一个Git仓库，项目被添加到了版本控制中。

> [!tip] 如何判断一个目录是Git仓库？
> 在命令行中运行`ls -a`（Linux/macOS）或`dir /a`（Windows），如果能看到`.git`目录，就说明该目录是一个Git仓库，可以在此目录及其子目录中使用Git命令。

如果你发现一个项目目录中有`.git`目录，这通常意味着项目已被初始化为Git仓库，项目已经被添加到版本控制。相反，如果一个项目没有`.git`目录，说明这个项目没有被版本控制。

### 克隆现有仓库

要从远程仓库克隆项目到本地，使用`git clone`命令：

```bash
git clone [仓库URL]
```

这个命令会创建一个包含完整项目历史的新目录，并自动设置远程仓库连接。

## Git用户配置

Git需要知道你是谁，这样它才能在每次提交时正确记录作者信息。Git的配置分为两个级别：局部配置和全局配置。

### 局部配置 vs 全局配置

- **局部配置**：只对当前仓库生效，适用于特定项目的特殊配置需求
- **全局配置**：对当前用户的所有仓库生效，是推荐的个人配置方式

当你运行`git config`命令时：
- 不使用`--global`参数：Git会将配置应用于当前仓库
- 使用`--global`参数：Git会将配置应用于当前用户的所有仓库

### 配置用户名和邮箱

**全局配置：**
```bash
git config --global user.name "你的姓名或昵称"
git config --global user.email "你的邮箱地址"
```

**局部配置（需要在仓库根目录下执行）：**
```bash
git config user.name "你的姓名或昵称"
git config user.email "你的邮箱地址"
```

在Windows上，你可以右键点击仓库文件夹，选择"Git Bash Here"，在该目录下打开Git Bash执行局部配置。

> [!warning] 为什么需要配置用户信息？
> Git的用户名和邮箱配置用于记录每次提交的作者信息，这对于代码审查、责任追踪和项目管理都非常重要。但需要注意的是，这个配置不会影响你对远程仓库的访问权限，它只影响你本地提交时的作者信息显示。

## Git环境安装

### Git安装与验证

Git可以安装在操作系统的任何分区，不局限于C盘。只要正确配置了系统环境变量（PATH），Git的命令行工具都可以正常工作。

安装完成后，可以通过以下命令验证Git是否安装成功：

```bash
git --version
```

### Git Bash

Git Bash是一个命令行界面，专门用于运行Git命令。与图形界面不同，Git Bash侧重于命令行操作，这为用户提供了更强大和灵活的Git操作能力。

右键菜单中的"Git Bash Here"选项非常实用，它能在当前选定的文件夹路径下直接打开一个Git Bash命令行窗口，省去了在命令行中逐层进入目标目录的步骤。

## Git与远程仓库的连接

### 添加远程仓库

要让本地仓库与远程仓库建立关联，你需要添加远程仓库连接：

```bash
git remote add origin [你的仓库URL]
```

首次将本地仓库与GitHub仓库链接时，使用完整的仓库URL：

```bash
git remote add origin https://github.com/your_username/your_repository.git
```

你可以通过`git remote -v`命令查看当前仓库的远程连接配置。如果需要修改远程仓库链接，使用：

```bash
git remote set-url origin <new-url>
```

### 远程仓库类型

不同的平台提供Git仓库服务，它们本质上都是支持相同指令（如`git clone`、`git pull`、`git push`）的Git仓库系统，只是托管平台不同。常见的平台包括：
- GitHub
- GitLab
- Gitee（码云）
- 阿里云Code等

## 项目管理最佳实践

### 忽略文件配置

在项目中，有些文件不需要被Git跟踪，比如：
- 敏感信息文件（`.env`文件包含密码、密钥等）
- IDE配置文件（如`.idea`文件夹）
- 依赖包目录
- 临时文件和缓存

这些文件应该添加到`.gitignore`文件中。`.gitignore`文件通常放在项目的根目录。

**忽略`.idea`文件夹的配置：**
```gitignore
.idea/
```

**忽略环境变量文件：**
```gitignore
.env
```

> [!warning] 注意：`.gitignore`只能忽略未被Git追踪的文件。如果某个文件已经被`git add`过，即使后来加入到`.gitignore`文件中，Git仍会继续追踪它。要停止追踪已存在的文件，需要先从Git索引中移除这些文件。

### Python项目命名规范

在使用Git管理Python项目时，需要注意命名规范：

- **文件夹名、文件名、变量名**：全小写加下划线分隔
- **类名**：首字母大写的驼峰命名
- **常量名**：全大写加下划线分隔

> [!warning] 避免使用中划线（-）命名Python包
> 从Python项目规范角度，不推荐使用中划线命名项目，因为在`import`时会被识别为减号运算符，导致报错。仓库名可以使用中划线，但不适合用于Python包名。

### 目录组织建议

对于包含多种类型文件的项目，建议进行合理的目录组织：

- **notes/**：存放文档、分析、思考、计划等内容
- **drafts/**：存放未整理的实验代码或片段
- **requirements.txt**：列出项目依赖（Python项目）

Git基础概念与配置是使用Git的基石。掌握了这些知识后，你就可以开始学习Git的工作流程和具体的操作命令了。接下来可以了解[[Git工作流程与三个区域]]来深入学习Git的核心机制。